videotestsrc                 name=src !
capsfilter                 name=src_caps !
queue !
oclscale                   name=scale !
capsfilter                 name=scale_caps !
queue !
oclmix                     name=mix !
capsfilter                 name=mix_caps !
queue !
videorate                  name=videorate !
capsfilter                 name=videorate_caps !
    tee                    name=tt
    tt. !
    queue                  name=q0 !
    oclscale               name=scale0 !
    capsfilter             name=scale0_mfx_caps !
    queue !
    mfxh264enc             name=enc0 !
    capsfilter             name=enc0_caps !
    filesink               name=sink0
    tt. !
    queue                  name=q3 !
    oclrotate              name=rotate !
    capsfilter             name=rotate_mfx_caps !
    queue                  name=qfc !
    mfxh264enc             name=enc3 !
    capsfilter             name=enc3_caps !
    fakesink               name=sink3
    tt. !
    queue                  name=q4 !
    oclscale               name=scale4 !
    capsfilter             name=scale4_mfx_caps !
    queue !
    mfxh264enc             name=enc4 !
    capsfilter             name=enc4_caps !
    fakesink               name=sink4

alsasrc !
audioconvert !
audioresample !
tee name=audio_tt
audio_tt. !
queue !
alawenc name = enc5 !
capsfilter name=enc5_caps !
fakesink
audio_tt. !
queue !
mulawenc name = enc6 !
capsfilter name=enc6_caps !
fakesink
audio_tt. !
queue !
avenc_g726 name=enc7 !
capsfilter name=enc7_caps !
fakesink
audio_tt. !
queue !
audioresample !
queue !
avenc_g722 name=enc8 !
capsfilter name=enc8_caps !
fakesink
audio_tt. !
queue !
audioconvert !
queue !
audioresample !
audio/x-raw,format=F32LE,rate=16000,layout=interleaved !
queue !
avenc_aac  name=enc9 !
capsfilter name=enc9_caps !
fakesink
