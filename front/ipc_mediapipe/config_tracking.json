{
    "module_list": [ "rtsp", "openvino_tracking", "mix3", "onvif", "changeformat"],
    "rtsp":
    {
        "rtsp_server":
        [
		     {
                "enable":1,
                "element":"enc1",
                "caps":"video/x-h264,stream-format=byte-stream,alignment=au",
                "fps":30,
                "srtp_enable":0,
                "key":"01234567890123456789012345678901234567890123456abcdefABCDEF8",
                "ssrc":1356955624,
                "mount_path":"/test1"
            },

            {
                "enable":1,
                "element":"enc2",
                "caps":"video/x-h264,stream-format=byte-stream,alignment=au",
                "fps":30,
                "srtp_enable":0,
                "key":"01234567890123456789012345678901234567890123456abcdefABCDEF8",
                "ssrc":1356955624,
                "mount_path":"/test2"
            },
            {
                "enable":1,
                "element":"enc3",
                "caps":"video/x-h264,stream-format=byte-stream,alignment=au",
                "fps":30,
                "srtp_enable":0,
                "key":"01234567890123456789012345678901234567890123456abcdefABCDEF8",
                "ssrc":1356955624,
                "mount_path":"/test3"
            }
        ],
        "rtsp_server_port": 8554 //1-65535

    },
    "openvino_detection":
    [
        {
            "enable":1,
            "name":"openvino_tracking",
            "message_name":"tracking",
            "src_name":"src",
            "src_format":"NV12",
            "pipe_string":"appsrc name=source ! queue max-size-buffers=1 leaky=2 !
                           videoconvert ! video/x-raw, format=BGRA ! gvainference model=${MODEL} ! gvayolov2tinyroi ! videoconvert ! video/x-raw,format=NV12 ! vasobjecttracker tracking-type=ZERO_TERM !
                           vasobjectselector ! videoconvert ! video/x-raw,format=BGRA ! gvaclassify model=${MODEL1}  model-proc=${MODEL2} ! vasobjectoutput property-config=object.classification name=detect ! fakesink",
            "pipe_params":
            {
                "MODEL":"/home/vsi/zhicheng/ava_demo/demo_resources/track_packet/config/public-models-master/yolov2_tiny_od/yolo_IR_fp32.xml",
		"MODEL1":"/home/vsi/zhicheng/ava_demo/demo_resources/track_packet/config/public-models-master/resnet_v1_50_75.19/resnet50_v1_fp32.xml",
		"MODEL2":"/home/vsi/zhicheng/ava_demo/demo_resources/track_packet/config/model-proc/object-classify.json"
            }
        }
    ],
    "mix3":
    [
		{
			"subscribe_message" : ["tracking" ],
			"draw_color" : [[255,0,0]],
			"delay_queue": "mix1_queue",
			"element_name": "mix1_src"
		},
		{
			"subscribe_message" : ["tracking" ],
			"draw_color" : [[0,0,255]],
			"delay_queue": "mix2_queue",
			"element_name": "mix2_src"
		},
		{
			"subscribe_message" : ["tracking" ],
			"draw_color" : [[0,255,0]],
			"delay_queue": "mix3_queue",
			"element_name": "mix3_src"
		}

    ],
    "element":
    [
        {
            "name":"src_caps",
            "caps":"video/x-raw,format=NV12,width=1280,height=720"
        },
        {
            "name":"videorate1_caps",
            "caps":"video/x-raw,framerate=30/1"
        },
        {
            "name":"videorate2_caps",
            "caps":"video/x-raw,framerate=30/1"
        },
        {
            "name":"videorate3_caps",
            "caps":"video/x-raw,framerate=30/1"
        },
        //-------------channel: 1---------------
        {
            "name":"scale1_caps",
            "caps":"video/x-raw,format=NV12,width=1280,height=720"
        },
        {
            "name":"convert1_caps",
            "caps":"video/x-raw,format=I420,width=1280,height=720"
	    },
	    {
            "name":"enc1",
            "resend-pps":1,
            "resend-sps":1
	    },
        {
            "name":"enc1_caps",
            "caps":"video/x-h264,stream-format=byte-stream,profile=high"
	    },
        //------------channel: 2-------------
        {
            "name":"scale2_caps",
            "caps":"video/x-raw,format=NV12,width=1920,height=1080"
        },
        {
            "name":"convert2_caps",
            "caps":"video/x-raw,format=I420,width=1920,height=1080"
		},
        {
            "name":"enc2_caps",
            "caps":"video/x-h264,stream-format=byte-stream,profile=high"
        },

        //------------channel: 3-------------
        {
            "name":"scale3_caps",
            "caps":"video/x-raw,format=NV12,width=3840,height=2160"
        },
        {
            "name":"convert3_caps",
            "caps":"video/x-raw,format=I420,width=3840,height=2160"
        },
        {
            "name":"enc3_caps",
            "caps":"video/x-h264,stream-format=byte-stream,profile=high"
        }
    ],
    "changeformat":{
        "plugin_264_class_name" : "vaapih264enc",
        "plugin_265_class_name" : "vaapih265enc",
        "plugin_jpeg_class_name" : "vaapijpegenc"

    },
    "onvif":{
        "image_element": "src",
        "video_element": "enc1",
        "stream_uri": "/test1",
        "videorate_capsfilter": "videorate_caps"
    }

}
