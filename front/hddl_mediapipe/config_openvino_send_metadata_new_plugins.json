{
    "openvino_use_new_plugins":1,
    "openvino_detection":
    [
        {
            "enable":1,
            "name":"openvino_vehicle_detection",
            "message_name":"vehicle_detection",
            "src_name":"src",
            "src_format":"NV12",
            "pipe_string":"appsrc name=source ! queue max-size-buffers=1 leaky=2 ! videoconvert ! gvadetect inference-id=inf0 model=${MODEL} device=CPU every-nth-frame=1 batch-size=1 name=detect ! queue ! fakesink",
            "pipe_params":
            {
                "MODEL":"/opt/intel/computer_vision_sdk/deployment_tools/intel_models/vehicle-license-plate-detection-barrier-0106/FP32/vehicle-license-plate-detection-barrier-0106.xml"
            }
        },
        {
            "enable":0,
            "name":"openvino_crossroad_detection",
            "message_name":"crossroad_detection",
            "src_name":"src",
            "src_format":"NV12",
            "pipe_string":"appsrc name=source ! queue max-size-buffers=1 leaky=2 ! videoconvert ! gvadetect model=${DETECTION_MODEL} labels-file=${DETECTION_LABELS} ! queue ! gvaclassify model=$(PERSON_MODEL),$VEHICLE_MODEL object-class=person,vehicle ! queue ! gvametaconvert converter=attributes method=compound labels-file=${PERSON_LABELS} ! gvametaconvert converter=attributes method=max layer-name=color labels-file=${COLOR_LABELS}  ! gvametaconvert converter=attributes method=max layer-name=type labels-file=${TYPE_LABELS} name=detect ! queue ! fakesink",
            "pipe_params": {
                "DETECTION_MODEL":"/opt/intel/computer_vision_sdk/deployment_tools/intel_models/person-vehicle-bike-detection-crossroad-0078/FP32/person-vehicle-bike-detection-crossroad-0078.xml",
                "PERSON_MODEL":"/opt/intel/computer_vision_sdk/deployment_tools/intel_models/person-attributes-recognition-crossroad-0200/FP32/person-attributes-recognition-crossroad-0200.xml",
                "VEHICLE_MODEL":"/opt/intel/computer_vision_sdk/deployment_tools/intel_models/vehicle-attributes-recognition-barrier-0039/FP32/vehicle-attributes-recognition-barrier-0039.xml",
                "DETECTION_LABELS":"./labels/detect_person_vehicle_bike.txt",
                "PERSON_LABELS":"./labels/pedestrian_attributes.txt",
                "COLOR_LABELS":"./labels/vehicle_colors.txt",
                "TYPE_LABELS":"./labels/vehicle_types.txt"
            }
        }
    ],
    "metadata":
    {
    "subscribe_message" : ["vehicle_detection", "crossroad_detection", "barrier_detection"]
    },
    "element":
    [
        {
            "name":"src"
        },
        {
            "name":"scale_caps",
            "caps":"video/x-raw,format=NV12,width=1920,height=1088"
        },
        {
            "name":"enc0",
            "rate-control":1,
            "bitrate":4096
        },
        {
            "name":"enc0_caps",
            "caps":"video/x-h264,stream-format=byte-stream,profile=high"
        },
        {
            "name":"sink0",
            "location":"test0.264"
        }
    ]
}
