{
    "client_id": 1,
    "command_type": 0 ,
    "command_create":
    {
         "pipe_num": 1,
         "config":{
            "type": 0,
            "payload":
            {
                 "Launch":"filesrc location=/home/zhangyi7/working_code/keem_bay/video-examples/cars_1920x1080.h264  ! h264parse ! vaapih264dec ! rawvideoparse  width=1920 height=1088 format=23 ! queue ! videoscale  name=src ! capsfilter name=scale_caps ! queue name=mix2_queue ! videoscale name=proc_src ! capsfilter             name=scale0_caps ! videorate ! capsfilter             name=videorate_caps ! tee name=t t. ! queue ! videoconvert ! capsfilter             name=scaler_display_caps ! ximagesink t. ! queue ! vaapih264enc           name=enc0 ! capsfilter             name=enc0_caps ! filesink               name=sink0",
                 "Config":
              {
                 "openvino_detection":
                 [
                    {
                       "enable":1,
                       "name":"openvino_vehicle_detection",
                       "message_name":"vehicle_detection",
                       "src_name":"src",
                       "src_format":"NV12",
                       "pipe_string":"appsrc name=source ! queue max-size-buffers=1 leaky=2 ! videoconvert ! openvino-inference-st1 model=%s device=CPU every-nth-frame=1 batch-size=1 name=detect ! queue ! fakesink",
                       "model_path1":"/opt/intel/computer_vision_sdk/deployment_tools/intel_models/vehicle-license-plate-detection-barrier-0106/FP32/vehicle-license-plate-detection-barrier-0106.xml"
                    },
                    {
                       "enable":1,
                       "name":"openvino_crossroad_detection",
                       "message_name":"crossroad_detection",
                       "src_name":"src",
                       "src_format":"NV12",
                       "pipe_string":"appsrc name=source ! queue max-size-buffers=1 leaky=2 ! videoconvert ! openvino-inference model=%s ! queue ! openvino-classification model=%s meta-format=pedestrian-attributes name=detect ! queue ! fakesink",
                       "model_path1":"/opt/intel/computer_vision_sdk/deployment_tools/intel_models/person-vehicle-bike-detection-crossroad-0078/FP32/person-vehicle-bike-detection-crossroad-0078.xml",
                       "model_path2":"/opt/intel/computer_vision_sdk/deployment_tools/intel_models/person-attributes-recognition-crossroad-0031/FP32/person-attributes-recognition-crossroad-0031.xml"
                    },
                    {
                       "enable":1,
                       "name":"openvino_barrier_detection",
                       "message_name":"barrier_detection",
                       "src_name":"src",
                       "src_format":"NV12",
                       "pipe_string":"appsrc name=source ! queue max-size-buffers=1 leaky=2 ! videoconvert ! openvino-inference model=%s device=CPU every-nth-frame=1 batch-size=4 ! queue ! openvino-classification model=%s,%s object-class=1,2 name=detect ! queue ! fakesink",
                       "model_path1":"/opt/intel/computer_vision_sdk/deployment_tools/intel_models/vehicle-license-plate-detection-barrier-0106/FP32/vehicle-license-plate-detection-barrier-0106.xml",
                       "model_path2":"/opt/intel/computer_vision_sdk/deployment_tools/intel_models/vehicle-attributes-recognition-barrier-0039/FP32/vehicle-attributes-recognition-barrier-0039.xml",
                       "model_path3":"/opt/intel/computer_vision_sdk/deployment_tools/intel_models/license-plate-recognition-barrier-0001/FP32/license-plate-recognition-barrier-0001.xml"
                    }
                 ],
                 "mix2":
                 {
                    "subscribe_message" : ["vehicle_detection", "crossroad_detection", "barrier_detection"],
                    "draw_color" : [[0,0,255],[255,0,0],[255,255,0]],
                    "delay_queue": "mix2_queue",
                    "element_name": "proc_src"
                 },
                 "element":
                 [
                    {
                       "name":"src"
                    },
        
                    {
                       "name":"scale_caps",
                       "caps":"video/x-raw,format=NV12,width=1920,height=1088"
                    },
        
                    {
                       "name":"videorate_caps",
                       "caps":"video/x-raw,framerate=30/1"
                    },
        
                    {
                       "name":"scale0_caps",
                       "caps":"video/x-raw,format=NV12,width=1920,height=1088"
                    },
                    {
                       "name":"enc0",
                       "rate-control":1,
                       "bitrate":4096
                    },
                    {
                       "name":"enc0_caps",
                       "caps":"video/x-h264,stream-format=byte-stream,profile=high"
                    },
                    {
                       "name":"sink0",
                       "location":"test0.264"
                    },
                    {
                       "name":"scaler_display_caps",
                       "caps":"video/x-raw,format=BGRx,width=1920,height=1088"
                    }
                 ]
              }
            }
         }

    }
 }
