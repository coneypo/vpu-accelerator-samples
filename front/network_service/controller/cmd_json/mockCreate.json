{
    "client_id": 1,
    "command_type": 0 ,
    "command_create":
    {
         "pipe_num": 1,
         "config": {"type":0,"payload":{"Launch":"videotestsrc is-live=true  name=src !\ncapsfilter                 name=src_caps !\nvaapipostproc !\nqueue !\nvideorate                  name=videorate !\ncapsfilter                 name=videorate_caps !\ntee name=t\nt. !\n    queue !\n    vaapih264enc             name=enc0 !\n    capsfilter             name=enc0_caps !\n    fakesink               name=sink0\nt. !\n    vaapisink\n\naudiotestsrc is-live=true !\naudioconvert !\naudioresample !\ntee name=audio_tt\naudio_tt. !\nqueue !\nalawenc name = enc5 !\ncapsfilter name=enc5_caps !\nfakesink\naudio_tt. !\nqueue !\nmulawenc name = enc6 !\ncapsfilter name=enc6_caps !\nfakesink\naudio_tt. !\nqueue !\navenc_g726 name=enc7 !\ncapsfilter name=enc7_caps !\nfakesink\naudio_tt. !\nqueue !\naudioresample !\nqueue !\navenc_g722 name=enc8 !\ncapsfilter name=enc8_caps !\nfakesink\naudio_tt. !\nqueue !\naudioconvert !\nqueue !\naudioresample !\naudio/x-raw,format=F32LE,rate=16000,layout=interleaved !\nqueue !\navenc_aac  name=enc9 !\ncapsfilter name=enc9_caps !\nfakesink\n","Config":"{\n    \"rtsp\":\n    {\n        \"rtsp_server\":\n        [\n            {\n                \"enable\":1,\n                \"element\":\"enc0\",\n                \"caps\":\"video/x-h264,stream-format=byte-stream,alignment=au\",\n                \"fps\":30,\n                \"srtp_enable\":0,\n                \"key\":\"01234567890123456789012345678901234567890123456abcdefABCDEF8\",\n                \"ssrc\":1356955624,\n                \"mount_path\":\"/test0\"\n            },\n            {\n                \"enable\":1,\n                \"element\":\"enc1\",\n                \"caps\":\"video/x-jpeg,width=352,height=288\",\n                \"fps\":30,\n                \"mount_path\":\"/test1\"\n            },\n            {\n                \"enable\":1,\n                \"element\":\"enc2\",\n                \"caps\":\"video/x-h265,stream-format=byte-stream,alignment=au\",\n                \"fps\":30,\n                \"srtp_enable\":0,\n                \"key\":\"987654321098765432109876543210987654321098765432109876543210\",\n                \"ssrc\":1356955625,\n                \"mount_path\":\"/test2\"\n            },\n            {\n                \"enable\":1,\n                \"element\":\"enc5\",\n                \"caps\":\"audio/x-alaw,rate=8000,channels=1\",\n                \"srtp_enable\":0,\n                \"key\":\"987654321098765432109876543210987654321098765432109876543210\",\n                \"ssrc\":1356955625,\n                \"mount_path\":\"/test5\"\n            },\n            {\n                \"enable\":1,\n                \"element\":\"enc6\",\n                \"caps\":\"audio/x-mulaw,rate=8000,channels=1\",\n                \"mount_path\":\"/test6\"\n            },\n            {\n                \"enable\":1,\n                \"element\":\"enc7\",\n                \"caps\":\"audio/x-adpcm,rate=8000,channels=1,layout=g726,bitrate=32000\",\n                \"mount_path\":\"/test7\"\n            },\n            {\n                \"enable\":1,\n                \"element\":\"enc8\",\n                \"caps\":\"audio/G722,rate=16000,channels=1\",\n                \"mount_path\":\"/test8\"\n            },\n            {\n                \"enable\":1,\n                \"element\":\"enc9\",\n                \"caps\":\"audio/mpeg,mpegversion=4,stream-format=raw,rate=16000,channels=1,base-profile=lc\",\n                \"mount_path\":\"/test9\"\n            },\n            {\n                \"enable\":1,\n                \"merge_av\":1,\n                \"element\":\"enc0\",\n                \"caps\":\"video/x-h264,stream-format=byte-stream,alignment=au\",\n                \"srtp_enable\":0,\n                \"key\":\"01234567890123456789012345678901234567890123456abcdefABCDEF8\",\n                \"ssrc\":1356955624,\n                \"element1\":\"enc5\",\n                \"caps1\":\"audio/x-alaw,rate=8000,channels=1\",\n                \"srtp_enable1\":0,\n                \"key1\":\"987654321098765432109876543210987654321098765432109876543210\",\n                \"ssrc1\":1356955625,\n                \"mount_path\":\"/test10\"\n            }\n        ],\n        \"rtsp_server_port\": 8554 //1-65535\n    },\n    \"cvsdk_detection\":\n    {\n        \"enable_motion_detection\":1,\n        \"enable_face_detection\":1,\n        \"fetching_element\":\"mix\"\n    },\n    \"mix\":\n    {\n        \"logo\":\n        [\n            {\n                \"filename\":\"intel.rgba\",\n                \"width\":200,\n                \"height\":132,\n                \"x\":16,\n                \"y\":16\n            },\n            {\n                \"filename\":\"intel.rgba\",\n                \"width\":200,\n                \"height\":132,\n                \"x\":300,\n                \"y\":32\n            }\n        ],\n        \"mask\":\n        [\n            {\n                \"x\":600,\n                \"y\":600,\n                \"width\":150,\n                \"height\":150,\n                \"color_rgba\": [255, 0, 0, 255]\n            }\n        ],\n        \"osd\":\n        [\n            {\n                \"num\":10,\n                \"x\":800,\n                \"y\":700\n            },\n            {\n                \"x\":1500,\n                \"y\":0,\n                \"name\":\"clock\",\n                \"font\":\"Sans 30\"\n            },\n            {\n                \"x\":600,\n                \"y\":400,\n                \"name\":\"cpu\",\n                \"font\":\"Sans 32\",\n                \"max-stride\":10\n            },\n            {\n                \"x\":1000,\n                \"y\":400,\n                \"name\":\"gpu\",\n                \"font\":\"Sans 32\",\n                \"max-stride\":10\n            },\n            {\n                \"x\":400,\n                \"y\":1030,\n                \"name\":\"flow_text\",\n                \"font\":\"Sans 18\",\n                \"text\":\"ipc-prd2 mediapipe application\"\n            }\n        ],\n        \"mosaic\":\n        [\n            {\n                \"x\":200,\n                \"y\":10,\n                \"width\":150,\n                \"height\":150\n            },\n            {\n                \"x\":400,\n                \"y\":0,\n                \"width\":150,\n                \"height\":150\n            }\n        ],\n        \"wf\":\n        [\n            {\n                \"x\":400,\n                \"y\":10,\n                \"width\":100,\n                \"height\":170\n            },\n            {\n                \"x\":0,\n                \"y\":300,\n                \"width\":130,\n                \"height\":100\n            }\n        ],\n        \"roi\":\n        [\n            {\n                \"x\":0,\n                \"y\":0,\n                \"width\":120,\n                \"height\":120,\n                \"value\":-3\n            }\n        ]\n    },\n\n    \"element\":\n    [\n        //---------src---------\n        {\n            \"name\":\"src\",\n            \"location\":\"src.nv12\",\n//            \"device-name\":6,\n            \"device\":\"/dev/video0\",\n//            \"io-mode\":3,\n            \"pattern\":0,\n            \"printfps\":1\n            //  \"framerate\":\"30/1\"\n        },\n        //only for filesrc\n        //{\n            //    \"name\":\"src_parse\",\n            //    \"width\":1920,\n            //    \"height\":1080,\n            //    \"format\":23,\n            //    \"framerate\":\"5/1\"\n            //},\n            {\n                \"name\":\"src_caps\",\n//                \"caps\":\"video/x-raw,format=NV12,width=640,height=480,framerate=30/1\"\n                \"caps\":\"video/x-raw,format=I420,width=640,height=480\"\n            },\n\n            //---------scale---------\n            {\n                \"name\":\"scale_caps\",\n                \"caps\":\"video/x-raw,format=NV12,width=1920,height=1080\"\n            },\n\n            //---------videorate----------\n            {\n                \"name\":\"videorate\",\n                \"skip-to-first\":1\n            },\n            {\n                \"name\":\"videorate_caps\",\n                \"caps\":\"video/x-raw,framerate=30/1\"\n            },\n\n            //---------mix---------\n            {\n                \"name\":\"mix_caps\",\n                \"caps\":\"video/x-raw,format=NV12,width=1920,height=1080\"\n            },\n            {\n                \"name\":\"mfx_caps\",\n                \"caps\":\"video/x-raw(memory:MFXSurface),format=NV12,width=1920,height=1080\"\n            },\n\n            //------------channel: 0-------------\n            {\n                \"name\":\"scale0_caps\",\n                \"caps\":\"video/x-raw,format=NV12,width=1920,height=1080\"\n            },\n            {\n                \"name\":\"scale0_mfx_caps\",\n                \"caps\":\"video/x-raw(memory:MFXSurface),format=NV12,width=1920,height=1080\"\n            },\n            {\n                \"name\":\"enc0\",\n                \"gop-size\":128,\n                //\t    \"gop-distance\":8, // key frames period\n                \"rate-control\":1,  // CBR\n                \"bitrate\":4096,\n                \"keyframe-period\":30,\n                \"enableMBQP\":0,\n                \"mbqp\":[6,13,20,28,13,20,28,32,20,28,32,37,28,32,37,42]\n            },\n            {\n                \"name\":\"enc0_caps\",\n                \"caps\":\"video/x-h264,stream-format=byte-stream,profile=high\"\n            },\n            {\n                \"name\":\"sink0\",\n                \"location\":\"test0.264\"\n            },\n\n            //-------------channel: 1---------------\n            {\n                \"name\":\"scale1_caps\",\n                \"caps\":\"video/x-raw,format=NV12,width=352,height=288\"\n            },\n            {\n                \"name\":\"scale1_mfx_caps\",      //for scale with MFXSurface\n                \"caps\":\"video/x-raw(memory:MFXSurface),format=NV12,width=352,height=288,framerate=30/1\"\n            },\n            {\n                \"name\":\"enc1\",\n                \"quality\":50\n            },\n            {\n                \"name\":\"enc1_caps\",\n                \"caps\":\"image/jpeg\"       //TODO: set the default framerate\n            },\n            {\n                \"name\":\"sink1\",\n                \"location\":\"test1.avi\",\n            },\n\n            //------------channel: 2-------------\n            {\n                \"name\":\"scale2_caps\",\n                \"caps\":\"video/x-raw,format=NV12,width=1920,height=1080\"\n            },\n            {\n                \"name\":\"scale2_mfx_caps\",\n                \"caps\":\"video/x-raw(memory:MFXSurface),format=NV12,width=1920,height=1080\"\n            },\n            {\n                \"name\":\"enc2\",\n                \"gop-size\":128,\n                //\t    \"gop-distance\":8, // key frames period\n                \"rate-control\":1,  // CBR\n                \"bitrate\":4096,\n                \"preset\":6,\n                \"idr-interval\":1\n            },\n            {\n                \"name\":\"enc2_caps\",\n                \"caps\":\"video/x-h265,stream-format=byte-stream,profile=high\"\n            },\n            {\n                \"name\":\"sink2\",\n                \"location\":\"test2.265\",\n            },\n\n            //------------channel: 3-------------\n            {\n                \"name\":\"scale3_caps\",\n                \"caps\":\"video/x-raw,format=NV12,width=1920,height=1080\"\n            },\n            {\n                \"name\":\"scale3_mfx_caps\",      //for scale with MFXSurface\n                \"caps\":\"video/x-raw(memory:MFXSurface),format=NV12,width=1920,height=1080\"\n            },\n            {\n                \"name\":\"rotate\",\n                \"method\":1\n            },\n            {\n                \"name\":\"rotate_mfx_caps\",      //for rotate with MFXSurface\n                \"caps\":\"video/x-raw(memory:MFXSurface),format=NV12,width=1080,height=1920\"\n            },\n            {\n                \"name\":\"enc3\",\n                \"gop-size\":128,\n                //\t    \"gop-distance\":8, // key frames period\n                \"rate-control\":1,  // CBR\n                \"bitrate\":4096\n            },\n            {\n                \"name\":\"enc3_caps\",\n                \"caps\":\"video/x-h264,stream-format=byte-stream,profile=high\"\n            },\n            {\n                \"name\":\"sink3\",\n                \"location\":\"test3.264\"\n            },\n\n            //------------channel: 4-------------\n            {\n                \"name\":\"scale4_caps\",\n                \"caps\":\"video/x-raw,format=NV12,width=352,height=288\"\n            },\n            {\n                \"name\":\"scale4_mfx_caps\",      //for scale with MFXSurface\n                \"caps\":\"video/x-raw(memory:MFXSurface),format=NV12,width=352,height=288\"\n            },\n            {\n                \"name\":\"enc4\",\n                \"gop-size\":128,\n                //\t    \"gop-distance\":8, // key frames period\n                \"rate-control\":1,  // CBR\n                \"bitrate\":4096\n            },\n            {\n                \"name\":\"enc4_caps\",\n                \"caps\":\"video/x-h264,stream-format=byte-stream,profile=high\"\n            },\n            {\n                \"name\":\"sink4\",\n                \"location\":\"test4.264\"\n            },\n            //------------channel: 5-------------\n            {\n                \"name\":\"scale5_caps\",      //for scale with MFXSurface\n                \"caps\":\"video/x-raw,format=NV12,width=1920,height=1080\"\n            },\n            {\n                \"name\":\"scale5_mfx_caps\",\n                \"caps\":\"video/x-raw(memory:MFXSurface),format=NV12,width=1920,height=1080\"\n            },\n            {\n                \"name\":\"enc5\",\n                \"gop-size\":128,\n                //\t    \"gop-distance\":8, // key frames period\n                \"rate-control\":1,  // CBR\n                \"bitrate\":4096\n            },\n            {\n                \"name\":\"enc5_caps\",\n                \"caps\":\"video/x-h264,stream-format=byte-stream,profile=high\"\n            },\n            {\n                \"name\":\"sink5\",\n                \"location\":\"test5.264\"\n            },\n\n            //----------------local display-------------\n            {\n                \"name\":\"scaler_display_caps\",\n                \"caps\":\"video/x-raw,format=xBGR,width=1920,height=1080\"\n            },\n            {\n                \"name\":\"enc5_caps\",\n                \"caps\":\"audio/x-alaw,rate=8000,channels=1\"\n            },\n            {\n                \"name\":\"enc6_caps\",\n                \"caps\":\"audio/x-mulaw,rate=8000,channels=1\"\n            },\n            {\n                \"name\":\"enc7\",\n                \"bitrate\":32000\n            },\n            {\n                \"name\":\"enc7_caps\",\n                \"caps\":\"audio/x-adpcm,rate=8000,channels=1,layout=g726\"\n            },\n            {\n                \"name\":\"enc8\",\n                \"bitrate\":32000\n            },\n            {\n                \"name\":\"enc8_caps\",\n                \"caps\":\"audio/G722,rate=16000\"\n            },\n            {\n                \"name\":\"enc9\",\n                \"bitrate\":32000\n            },\n            {\n                \"name\":\"enc9_caps\",\n                \"caps\":\"audio/mpeg,mpegversion=4,stream-format=raw,rate=16000,channels=1,base-profile=lc\"\n            }\n    ],\n    \"changeformat\":{\n        \"plugin_264_class_name\" : \"vaapih264enc\",\n        \"plugin_265_class_name\" : \"vaapih265enc\",\n        \"plugin_jpeg_class_name\" : \"vaapijpegenc\",\n\n    },\n    \"onvif\":{\n        \"image_element\": \"src\",\n        \"video_element\": \"enc0\",\n        \"stream_uri\": \"/test0\",\n        \"videorate_capsfilter\": \"videorate_caps\"\n    }\n\n}\n"}}
    }
 }
